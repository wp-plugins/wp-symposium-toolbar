<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><title>Customize (further) your WordPress Toolbar with</title></head>
<body lang="FR">
<div>
<h2 style="text-align: center; font-size: 12pt; font-family: Arial;" align="center">Customize
(further) your WordPress Toolbar with</h2>
<h1 style="text-align: center; font-size: 18pt; font-family: Arial;">
WP Symposium Toolbar</h1>
<p style="font-family: Arial; font-size: 11pt;">This page
presents how
you can go further when customizing your WP
Toolbar, using the hooks and CSS classes available with the plugin.</p>
<h2 style="font-family: Arial; font-size: 16pt;">1. Hooks</h2>
<p style="font-family: Arial; font-size: 11pt;">Prerequisites:
you need to understand how WordPress
hooks work, know how to add code to your theme's functions.php, and
have some PHP knowledge.</p>
<h3 style="font-size: 13pt;">1.1. WP User Menu</h3>
<p style="font-family: Arial; font-size: 11pt;">Several
hooks are available around the WP User Menu ("My
Account"), used to change or add bits of information displayed
for the current user. You
will need to use one of the globals $current_user or
$user_ID to get the user ID, and from then on,
any other information you would need for that particular user.</p>
<h4>'symposium_toolbar_custom_display_name'</h4>
<p style="font-family: Arial; font-size: 11pt;">Sends the
small HTML bit
containing the display name in the User Menu, that you may replace with
the information you want.</p>
<p style="font-family: Arial; font-size: 11pt;">Example:
put the first name
instead of the whole display name, or any information you'd like</p>
<small>
<p style="font-family: Courier New;">function
symposium_toolbar_custom_display_name_hook ( $user_info ) {<br>
&nbsp;&nbsp;&nbsp;global $current_user;<br>
<br>
&nbsp;&nbsp;&nbsp;get_currentuserinfo();<br>
&nbsp;&nbsp;&nbsp;return
str_replace($current_user-&gt;display_name,
$current_user-&gt;user_firstname, $user_info);<br>
}<br>
add_filter ( 'symposium_toolbar_custom_display_name',
'symposium_toolbar_custom_display_name_hook', 10, 1 );</p>
</small>
<h4>'symposium_toolbar_custom_user_info'</h4>
<p style="font-family: Arial; font-size: 11pt;">Add
anything to the user info section of the User Menu.</p>
<p style="font-family: Arial; font-size: 11pt;">Example:
add the role under
certain conditions only, like for given accounts, given roles, etc.
Note
that I'm lazy here and use the username class to style it by default,
eventually refined by the class wpst-role. You may of course put your
own class directly.</p>
<small>
<p style="font-family: Courier New;">function
symposium_toolbar_custom_user_info_hook ( $user_info_collected ) {<br>
&nbsp;&nbsp;&nbsp;global $current_user, $wp_roles;<br>
<br>
&nbsp;&nbsp;&nbsp;get_currentuserinfo();<br>
&nbsp;&nbsp;&nbsp;$role =
array_shift($current_user-&gt;roles);<br>
&nbsp;&nbsp;&nbsp; if ( $role == 'administrator')<br>
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; return $user_info_collected .
"&lt;span
class='username&nbsp;wpst-role'&gt;".$wp_roles-&gt;role_names[$role]."&lt;/span&gt;";<br>
&nbsp;&nbsp;&nbsp; else<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return
$user_info_collected;<br>
}<br>
add_filter ( 'symposium_toolbar_custom_user_info',
'symposium_toolbar_custom_user_info_hook', 10, 1 );</p>
</small>
<h4>'symposium_toolbar_add_user_action'</h4>
<p style="font-family: Arial; font-size: 11pt;">Add
anything else to the
User Info, that requires a dedicated link and/or a specific styling,
like a membership level, or a rank, with a link that points to
a page where details will be given.</p>
<p style="font-family: Arial; font-size: 11pt;">
Example: add a title along with a URL linking to the site main
page, users of rating / ranking / membership plugins will transpose the
following to&nbsp;their favorite plugin, and display the
appropriate title and link.</p>
<small>
<p style="font-family: Courier New;">function
symposium_toolbar_add_user_action_hook ( $user_id ) {<br>
<br>
&nbsp;&nbsp;&nbsp; $added_info['title'] = "A Title for User
ID #".$user_id;<br>
&nbsp;&nbsp;&nbsp; $added_info['url'] = site_url();<br>
<br>
&nbsp;&nbsp;&nbsp; return array( $added_info );<br>
}<br>
add_filter ( 'symposium_toolbar_add_user_action',
'symposium_toolbar_add_user_action_hook', 10, 1 );</p>
</small>
<h4>'symposium_toolbar_my_account_url_update'</h4>
<p style="font-family: Arial; font-size: 11pt;">Modify the
URL over the Howdy message and the small avatar</p>
<h4>'symposium_toolbar_user_info_url_update'</h4>
<p style="font-family: Arial; font-size: 11pt;">Modify the
URL over the user info in the User Menu.</p>
<p style="font-family: Arial; font-size: 11pt;">
Use Cases: These two links point to the profile URL given by WordPress,
and the site URL for visitors. Note that the WP Profile has a
hook as
well 'edit_profile_url' to modify the link from anywhere in your site.
These two hooks allow you to have different links in the WP User Menu
only, in the Toolbar and the User Menu, respectively.</p>
<h3 style="font-size: 13pt;">1.2. Styles</h3>
<h4>'symposium_toolbar_style_search_field'</h4>
<p style="font-family: Arial; font-size: 11pt;">I
personally consider that the Search icon should not have
borders when it's moved to the inner part of the Toolbar, but that's
purely a matter of taste. So if you'd like to remove the border-xxx:
none that the plugin adds to li.admin-bar-search, you could use this
hook.</p>
<small>
<p style="font-family: Courier New;">function
symposium_toolbar_remove_search_borders ( $wpst_all_fonts ) {<br>
<br>
&nbsp;&nbsp;&nbsp; return "";<br>
}<br>
add_filter ( 'symposium_toolbar_add_fonts',
'symposium_toolbar_remove_search_borders', 10, 1 );</p>
</small>
<h4>'symposium_toolbar_style_toolbar_hover'</h4>
<p style="font-family: Arial; font-size: 11pt;">By default
the plugin adds the same borders to the Toolbar items, whether they are
hovered or not. Use this hook to add custom&nbsp;borders to&nbsp;those items when they are hovered.</p><p style="font-family: Arial; font-size: 11pt;">Since hover doesn't affect monochrom dividers, it
should be stressed that this hook is triggered only when two colours
are defined for borders.</p>
<h4>'symposium_toolbar_style_to_header'</h4>
<p style="font-family: Arial; font-size: 11pt;">Styles
collected at the tab of the same name are gathered in a string
that is then stored as an option. Upon page load, this string
is read from its option and sent to display. This hook is
triggered right before the string is&nbsp;stored. Use this
hook to add your own style, or modify what is added by the plugin</p>
<h3 style="font-size: 13pt;">1.3. Administration</h3>
<h4>'symposium_toolbar_add_fonts'</h4>
<p style="font-family: Arial; font-size: 11pt;">This
hook can be used to add your custom font to the array of fonts
that is displayed at the plugin options page. You may then select it
from there, and use it for the Toolbar and / or its dropdown menus. You
should always add a fallback to your font, in case the
browser wouldn't be able to display it. Do not add brackets
around multiword names, the plugin will deal with them automagically.</p>
<p style="font-family: Arial; font-size: 11pt;">Example:
being a little short on this one, I'll show how to add a font which is
already proposed by default...</p>
<small>
<p style="font-family: Courier New;">function
symposium_toolbar_add_font_hook ( $wpst_all_fonts ) {<br>
<br>
&nbsp;&nbsp;&nbsp; $wpst_all_fonts[] = "Arial Black,
sans-serif";<br>
&nbsp;&nbsp;&nbsp; return $wpst_all_fonts;<br>
}<br>
add_filter ( 'symposium_toolbar_add_fonts',
'symposium_toolbar_add_font_hook', 10, 1 );</p>
</small>
<h4>'symposium_toolbar_init_globals_done'</h4>
<p style="font-family: Arial; font-size: 11pt;">This hook
is triggered at the end of the init of plugin globals, so Network
Admins
can interact with those before they are actually used by Site Admins,
like dropping an
array element or adding one element to one of those arrays. There are
two kinds of arrays, all of them being made of items in the format slug
=&gt; title:</p>
<ul style="font-family: Arial; font-size: 11pt;">
<li>Roles<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_all_incl_visitor</span>,
lists all roles of the site including the pseudo-role 'visitor'<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_all</span>,
all roles gathered on the site<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_author</span>,
all roles that are allowed to 'edit_posts'<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_new_content</span>,
all roles that are allowed to add content to the site, this includes
either of the following capabilities: 'upload_files', 'manage_links',
'create_users', 'promote_users'<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_comment</span>,
all roles that can manage comments through the capability 'edit_posts'<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_updates</span>,
all roles that have either of the following capabilities:
'update_plugins', 'update_themes', 'update_core'<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_roles_administrator</span>,
pretty self-explanatory, the tested capability is 'manage_options'</li>
<li>Menu Locations<br>
<span style="font-family: Courier New; font-size: 11pt;">$wpst_locations</span>,
lists the available locations for custom menus as per the eponymous tab
at the plugin options page</li>
</ul>
<p style="font-family: Arial; font-size: 11pt;">For menu locations, it should
be stressed that the slug in this array
corresponds to the parent item ID to which the menu will be connected.
So if you create a Toolbar menu or item
and add its ID here as a slug (along with an explanatory title), it
will be listed amongst the menu locations, ready to use by Site Admins.</p>
<h2 style="font-family: Arial; font-size: 16pt;">2.
CSS
styling</h2>
<p style="font-family: Arial; font-size: 11pt;">Prerequisites:
you need to know how to add custom CSS on your site, and obviously have
some CSS knowledge.</p>
<p style="font-family: Arial; font-size: 11pt;">Several
classes are defined for you to interact with items added by the
plugin. They are all defined the plugin CSS file, in the plugin folder.</p>
<h3 style="font-size: 13pt;">2.1. WP User Menu</h3>
<p style="font-family: Arial; font-size: 11pt;">In the WP
User Menu ("My
Account"), the role added by the plugin option belongs to the classes
<span style="font-family: Courier New; font-size: 11pt;">wpst-role</span>
and <span style="font-family: Courier New; font-size: 11pt;">wpst-role-&lt;role&gt;</span>
where
&lt;role&gt; stands for a given role. For instance, by default
the plugin defines a red border for admins through the class <span style="font-family: Courier New; font-size: 11pt;">wpst-role-administrator</span>.
</p>
<h3 style="font-size: 13pt;">2.2. Notification Icons</h3>
<p style="font-family: Arial; font-size: 11pt;">The mail
icons belong to the classes <span style="font-family: Courier New; font-size: 11pt;">ab-icon-new-mail</span>
and <span style="font-family: Courier New; font-size: 11pt;">ab-icon-mail</span>,
while the friend icons belong to <span style="font-family: Courier New; font-size: 11pt;">ab-icon-new-friendship</span>
and <span style="font-family: Courier New; font-size: 11pt;">ab-icon-friendship</span>.
</p>
<p style="font-size: 9pt; font-family: Arial;"><br>
G.Assire<br>
alphagolf@rocketmail.com<br>
<br>
</p>
</div>
</body></html>